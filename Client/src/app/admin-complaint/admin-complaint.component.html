<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
  <ng-template #mymodal let-modal>
    <div class="modal-header" style="background-color:darkolivegreen;">
      <h4 class="modal-title" id="modal-basic-title" style="color:white; margin-left:100px">Respond to complaint</h4>
    </div>
    <div class="modal-body" style="background-color:darkolivegreen; color:white">

      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <div class="form-group">
        <br>
        <input style="height:100px; margin-left:140px;" id="description" name="description" type="text" class="from-control" [(ngModel)]="complaint.answer">
      </div>

      <button type="button" class="btn btn-primary" style="width:160px; margin-left:150px" (click)="respond()">Send response</button>

    </div>
  </ng-template>
    <div class="forma">
      <br><h3>Complaint history</h3><br>

    </div>
    <div class="modal-dialog text-center">
      <div class="modal-content">
        <table class="table table-striped" border="1" width="200" style="background-color:darkolivegreen; color:white">
          <thead>
            <tr>
              <th>User</th>
              <th>Description</th>
              <th>Email</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr app-search-user-view *ngFor="let f of complaint">
              <td style="color:white">{{f.userName}}</td>
              <td style="color:white">{{f.userInput}}</td>
              <td style="color:white">{{f.userEmail}}</td>
              <td style="color:white">{{ f.isAnswered ? 'Answered' : 'Not Answered' }}</td>
              <td>
                <button *ngIf="!f.isAnswered" (click)="openModal(f.id)" style="width: 190px; height: 30px; background-color: forestgreen; color: white; border: none; border-radius: 8px;">
                  Response to complaint
                </button>
</tbody>
        </table>
      </div>

    </div>


</body>
</html>

